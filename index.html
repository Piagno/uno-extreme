<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Piagno Uno-Extreme</title>
		<meta name="description" content="A RNG for Uno-Extreme">
		<style>
			body {
				margin: 0 auto;
				background-color: black;
				color: white;
				font-family: sans-serif;
			}
			body > div > div {
				margin-top: 20px;
				margin-bottom: 20px;
				text-align: center;
				font-size: 40px;
			}
			button {
				width: 100%;
				padding: 10px;
				font-size: 25px;
			}
		</style>
	</head>
	<body>
		<h1>Piagno Uno-Extreme</h1>
		<div id="start_game"><button type="button">Start a new Game</button></div>
		<div id="uno_button">
			<div>&nbsp;</div>
			<div><button type="button">Take Cards!</button></div>
		</div>
	</body>
	<script>
		rounds = 0
		text_element = document.getElementById('uno_button').children[0]
		document.getElementById('start_game').children[0].onclick = () => {
			rounds = 0
			text_element.innerText = 'Started a new game'
		}
		document.getElementById('uno_button').children[1].onclick = () => {
			let number = get_number()
			rounds++
			text_element.innerText = 'Wait...'
			setTimeout(()=>{
				text_element.innerText = 'Take '+number+' cards!'
			},500)
		}
		get_number = () => {
			let number = 0
			let no_card_chance = rounds + 30
			if(no_card_chance > 60){no_card_chance = 60}
			let random = Math.floor(Math.random()*100)
			if(random > no_card_chance){
				let min_card = Math.floor(rounds / 20 + 1)
				let card_range_floored = min_card + 3
				if(card_range_floored > 11-min_card){card_range_floored = 11-min_card}
				number = Math.floor(Math.random()*card_range_floored) + min_card
			}
			return number
		}
	</script>
</html>
